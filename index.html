<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صيدليتي أونلاين | منصة الأدوية الرقمية</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        /* المتغيرات العامة */
        :root {
            --primary-color: #4a89dc;
            --primary-dark: #3a70c2;
            --secondary-color: #3bafda;
            --accent-color: #37bc9b;
            --text-color: #2c3e50;
            --light-text: #f5f7fa;
            --background-color: #f8f9fa;
            --card-color: #ffffff;
            --error-color: #e74c3c;
            --success-color: #2ecc71;
            --warning-color: #f6bb42;
            --border-radius: 12px;
            --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        /* التنسيق العام */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tajawal', sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            direction: rtl;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        .fade-out {
            animation: fadeOut 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(20px); }
        }

        /* شريط التنقل */
        .pharmacy-nav {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 15px 0;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 50px;
            height: 50px;
            object-fit: contain;
        }

        .pharmacy-nav h1 {
            font-size: 24px;
            font-weight: 700;
            margin: 0;
        }

        .pharmacy-nav h1 span {
            font-weight: 500;
            opacity: 0.9;
        }

        .nav-icons {
            display: flex;
            gap: 15px;
            font-size: 20px;
            color: rgba(255, 255, 255, 0.8);
        }

        /* قسم البطل */
        .pharmacy-hero {
            position: relative;
            height: 300px;
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: url('https://images.unsplash.com/photo-1587854692152-cf660d3f6b0d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center;
            background-size: cover;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
        }

        .hero-content {
            position: relative;
            z-index: 1;
            color: white;
            padding: 20px;
            width: 100%;
        }

        .hero-content h2 {
            font-size: 36px;
            margin-bottom: 15px;
        }

        .hero-content p {
            font-size: 18px;
            margin-bottom: 25px;
        }

        .hero-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        /* بطاقات الميزات */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .feature-card {
            background: var(--card-color);
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            text-align: center;
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 40px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .feature-card h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }

        .feature-card p {
            color: #666;
            font-size: 16px;
        }

        /* النماذج */
        .form-container {
            max-width: 500px;
            margin: 0 auto;
            background: var(--card-color);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .form-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .form-header i {
            font-size: 50px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .form-header h2 {
            font-size: 24px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }

        .form-group label i {
            margin-left: 8px;
            color: var(--primary-color);
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 137, 220, 0.2);
        }

        .form-options {
            margin: 20px 0;
        }

        .checkbox-container {
            display: block;
            position: relative;
            padding-right: 30px;
            margin-bottom: 12px;
            cursor: pointer;
            user-select: none;
        }

        .checkbox-container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        .checkmark {
            position: absolute;
            top: 0;
            right: 0;
            height: 20px;
            width: 20px;
            background-color: #eee;
            border-radius: 4px;
            transition: var(--transition);
        }

        .checkbox-container:hover .checkmark {
            background-color: #ddd;
        }

        .checkbox-container input:checked ~ .checkmark {
            background-color: var(--primary-color);
        }

        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        .checkbox-container input:checked ~ .checkmark:after {
            display: block;
        }

        .checkbox-container .checkmark:after {
            left: 7px;
            top: 3px;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        .form-buttons {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }

        /* الأزرار */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            text-align: center;
            gap: 8px;
            font-size: 16px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--secondary-color) 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(58, 112, 194, 0.4);
        }

        .btn-secondary {
            background: #95a5a6;
            color: white;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
            transform: translateY(-2px);
        }

        .btn-accent {
            background: var(--accent-color);
            color: white;
        }

        .btn-accent:hover {
            background: #2fa58a;
            transform: translateY(-2px);
        }

        .btn-client {
            background: var(--accent-color);
        }

        .btn-pharmacy {
            background: var(--primary-color);
        }

        .btn-status {
            background: var(--warning-color);
            color: var(--text-color);
        }

        .btn-open {
            background: var(--success-color);
            color: white;
        }

        .btn-closed {
            background: var(--error-color);
            color: white;
        }

        .btn-call {
            background: #4CAF50;
            color: white;
            width: 100%;
            margin-top: 10px;
        }

        .btn-call:hover {
            background: #3e8e41;
        }

        /* لوحة التحكم */
        .panel-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .panel-header h2 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .panel-header h2 i {
            margin-left: 10px;
            color: var(--primary-color);
        }

        .panel-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            background: #f0f0f0;
            color: var(--text-color);
        }

        .status-badge i {
            font-size: 18px;
        }

        .status-open {
            background: var(--success-color);
            color: white;
        }

        .status-closed {
            background: var(--error-color);
            color: white;
        }

        .client-info-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            font-size: 18px;
        }

        /* نتائج البحث */
        .search-container {
            margin-bottom: 30px;
        }

        .search-box {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        #search-medicine {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid var(--primary-color);
            border-radius: 50px;
            font-size: 18px;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(74, 137, 220, 0.2);
        }

        #search-medicine:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 4px rgba(59, 175, 218, 0.3);
        }

        .medicine-results {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .medicine-card {
            background: var(--card-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            transition: var(--transition);
        }

        .medicine-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .medicine-image {
            height: 180px;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-size: 60px;
        }

        .medicine-details {
            padding: 20px;
        }

        .medicine-details h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .medicine-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            color: #666;
        }

        .medicine-info i {
            color: var(--primary-color);
            width: 20px;
            text-align: center;
        }

        .medicine-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .availability-tag {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-top: 10px;
        }

        .available {
            background: #e8f8f5;
            color: var(--success-color);
        }

        .not-available {
            background: #fdedec;
            color: var(--error-color);
        }

        .requests-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        /* بطاقات الصيدليات */
        .pharmacy-card {
            background: var(--card-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
        }

        .pharmacy-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .pharmacy-image {
            height: 150px;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-size: 50px;
        }

        .pharmacy-details {
            padding: 20px;
        }

        .pharmacy-details h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .pharmacy-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            color: #666;
        }

        .pharmacy-info i {
            color: var(--primary-color);
            width: 20px;
            text-align: center;
        }

        /* حقل تحميل الملفات */
        input[type="file"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            background: #f9f9f9;
        }

        .dark-mode input[type="file"] {
            background: #333;
            color: white;
            border-color: #444;
        }

        /* الرسائل العائمة */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 30px;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1000;
            box-shadow: var(--box-shadow);
            animation: slideIn 0.5s ease-out;
        }

        .toast-success {
            background: var(--success-color);
            color: white;
        }

        .toast-error {
            background: var(--error-color);
            color: white;
        }

        .toast-loading {
            background: var(--warning-color);
            color: white;
        }

        .toast-icon {
            font-size: 24px;
        }

        .spinner {
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* تذييل الصفحة */
        .pharmacy-footer {
            background: var(--text-color);
            color: white;
            padding: 50px 0 20px;
            margin-top: 50px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-about img {
            width: 60px;
            height: 60px;
            margin-bottom: 15px;
        }

        .footer-about h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }

        .footer-about p {
            opacity: 0.8;
            font-size: 14px;
        }

        .footer-links h4, .footer-contact h4 {
            font-size: 20px;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-links h4::after, .footer-contact h4::after {
            content: '';
            position: absolute;
            right: 0;
            bottom: 0;
            width: 50px;
            height: 2px;
            background: var(--primary-color);
        }

        .footer-links a {
            display: block;
            color: white;
            margin-bottom: 12px;
            opacity: 0.8;
            transition: var(--transition);
            text-decoration: none;
        }

        .footer-links a:hover {
            opacity: 1;
            transform: translateX(-5px);
        }

        .footer-links a i {
            margin-left: 8px;
            color: var(--primary-color);
        }

        .footer-contact p {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0.8;
        }

        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-icons a {
            color: white;
            background: rgba(255, 255, 255, 0.1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .social-icons a:hover {
            background: var(--primary-color);
            transform: translateY(-3px);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
            opacity: 0.7;
        }

        /* تأثيرات الحركة */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* الوضع المظلم */
        .dark-mode {
            --background-color: #1a1a1a;
            --text-color: #f5f7fa;
            --card-color: #2d2d2d;
        }

        .dark-mode .feature-card,
        .dark-mode .form-container,
        .dark-mode .medicine-card,
        .dark-mode .pharmacy-card {
            background: var(--card-color);
            color: var(--light-text);
        }

        .dark-mode .feature-card p,
        .dark-mode .medicine-info,
        .dark-mode .pharmacy-info {
            color: #ccc;
        }

        .dark-mode .form-group input {
            background: #333;
            color: white;
            border-color: #444;
        }

        /* التصميم للهواتف */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .pharmacy-nav h1 {
                font-size: 20px;
            }
            
            .pharmacy-hero {
                height: 250px;
            }
            
            .hero-content h2 {
                font-size: 28px;
            }
            
            .hero-buttons {
                flex-direction: column;
            }
            
            .panel-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .form-buttons {
                flex-direction: column;
            }
            
            .search-box {
                flex-direction: column;
            }
            
            #search-medicine {
                width: 100%;
            }
            
            .medicine-results,
            .requests-list,
            #pharmacies-list-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- شريط التنقل -->
    <nav class="pharmacy-nav">
        <div class="container">
            <div class="nav-brand">
                <img src="https://cdn-icons-png.flaticon.com/512/3142/3142145.png" alt="صيدليتي" class="logo">
                <h1>صيدليتي <span>أونلاين</span></h1>
            </div>
            <div class="nav-icons">
                <i class="fas fa-prescription-bottle-alt pulse"></i>
                <i class="fas fa-heartbeat"></i>
                <i class="fas fa-stethoscope"></i>
            </div>
        </div>
    </nav>

    <!-- المحتوى الرئيسي -->
    <main class="main-content">
        <!-- الشاشة الرئيسية -->
        <section class="container" id="home-screen">
            <div class="pharmacy-hero">
                <div class="hero-overlay"></div>
                <div class="hero-content">
                    <h2 data-aos="fade-down">صيدليتك بين يديك!</h2>
                    <p data-aos="fade-down" data-aos-delay="100">ابحث عن أدويتك بسهولة وسرعة</p>
                    <div class="hero-buttons" data-aos="fade-up" data-aos-delay="200">
                        <button class="btn btn-client" onclick="showSection('client-login')">
                            <i class="fas fa-user-md"></i> دخول العميل
                        </button>
                        <button class="btn btn-pharmacy" onclick="showSection('pharmacy-login')">
                            <i class="fas fa-clinic-medical"></i> دخول الصيدلية
                        </button>
                    </div>
                </div>
            </div>

            <div class="features-grid">
                <div class="feature-card" data-aos="zoom-in">
                    <div class="feature-icon">
                        <i class="fas fa-truck"></i>
                    </div>
                    <h3> مستهدف توصيل سريع</h3>
                    <p>خلال 24 ساعة فقط</p>
                </div>
                <div class="feature-card" data-aos="zoom-in" data-aos-delay="100">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>أدوية أصلية</h3>
                </div>
                <div class="feature-card" data-aos="zoom-in" data-aos-delay="200">
                    <div class="feature-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h3>دعم فني</h3>
                    <p>متاح 24/7</p>
                </div>
            </div>
        </section>

        <!-- شاشة دخول العميل -->
        <section class="container hidden" id="client-login">
            <div class="form-container">
                <div class="form-header">
                    <i class="fas fa-user-circle"></i>
                    <h2>تسجيل دخول العميل</h2>
                </div>
                <div class="form-group">
                    <label for="client-name"><i class="fas fa-user-tag"></i> الاسم الكامل</label>
                    <input type="text" id="client-name" placeholder="أدخل اسمك بالكامل">
                </div>
                <div class="form-group">
                    <label for="client-phone"><i class="fas fa-mobile-alt"></i> رقم الهاتف</label>
                    <input type="tel" id="client-phone" placeholder="01XXXXXXXXX" maxlength="11">
                </div>
                <div class="form-group">
                    <label for="client-city"><i class="fas fa-city"></i> المدينة</label>
                    <input type="text" id="client-city" placeholder="أدخل مدينتك">
                </div>
                <div class="form-options">
                    <label class="checkbox-container">حفظ بياناتي
                        <input type="checkbox" id="save-client-data">
                        <span class="checkmark"></span>
                    </label>
                </div>
                <button class="btn btn-primary" onclick="loginClient()">
                    <i class="fas fa-sign-in-alt"></i> دخول
                </button>
                <button class="btn btn-secondary" onclick="showSection('home-screen')">
                    <i class="fas fa-arrow-right"></i> رجوع
                </button>
            </div>
        </section>

        <!-- شاشة دخول الصيدلية -->
        <section class="container hidden" id="pharmacy-login">
            <div class="form-container">
                <div class="form-header">
                    <i class="fas fa-clinic-medical"></i>
                    <h2>تسجيل دخول الصيدلية</h2>
                </div>
                <div class="form-group">
                    <label for="pharmacy-name"><i class="fas fa-sign"></i> اسم الصيدلية</label>
                    <input type="text" id="pharmacy-name" placeholder="أدخل اسم الصيدلية">
                </div>
                <div class="form-group">
                    <label for="pharmacy-password"><i class="fas fa-lock"></i> كلمة المرور</label>
                    <input type="password" id="pharmacy-password" placeholder="أدخل كلمة المرور">
                </div>
                <div class="form-options">
                    <label class="checkbox-container">تذكر بيانات الدخول
                        <input type="checkbox" id="save-pharmacy-data">
                        <span class="checkmark"></span>
                    </label>
                </div>
                <div class="form-buttons">
                    <button class="btn btn-primary" onclick="loginPharmacy()">
                        <i class="fas fa-sign-in-alt"></i> تسجيل دخول
                    </button>
                    <button class="btn btn-accent" onclick="showRegisterForm()">
                        <i class="fas fa-plus-circle"></i> إنشاء حساب جديد
                    </button>
                </div>
                <button class="btn btn-secondary" onclick="showSection('home-screen')">
                    <i class="fas fa-arrow-right"></i> رجوع
                </button>
            </div>
        </section>

        <!-- شاشة تسجيل الصيدلية الجديدة -->
        <section class="container hidden" id="pharmacy-register">
            <div class="form-container">
                <div class="form-header">
                    <i class="fas fa-clinic-medical"></i>
                    <h2>تسجيل صيدلية جديدة</h2>
                </div>
                <div class="form-group">
                    <label for="register-name"><i class="fas fa-sign"></i> اسم الصيدلية</label>
                    <input type="text" id="register-name" placeholder="أدخل اسم الصيدلية">
                </div>
                <div class="form-group">
                    <label for="register-password"><i class="fas fa-lock"></i> كلمة المرور</label>
                    <input type="password" id="register-password" placeholder="أدخل كلمة المرور">
                </div>
                <div class="form-group">
                    <label for="register-city"><i class="fas fa-city"></i> المدينة</label>
                    <input type="text" id="register-city" placeholder="أدخل المدينة">
                </div>
                <div class="form-group">
                    <label for="register-location"><i class="fas fa-map-marker-alt"></i> رابط الموقع على الخريطة</label>
                    <input type="text" id="register-location" placeholder="أدخل رابط الموقع">
                </div>
                <div class="form-group">
                    <label for="register-phone"><i class="fas fa-phone"></i> رقم الهاتف</label>
                    <input type="tel" id="register-phone" placeholder="أدخل رقم الهاتف">
                </div>
                <div class="form-options">
                    <label class="checkbox-container">تذكر بيانات الدخول
                        <input type="checkbox" id="save-register-data">
                        <span class="checkmark"></span>
                    </label>
                </div>
                <button class="btn btn-primary" onclick="registerPharmacy()">
                    <i class="fas fa-save"></i> تسجيل الحساب
                </button>
                <button class="btn btn-secondary" onclick="showSection('pharmacy-login')">
                    <i class="fas fa-arrow-right"></i> رجوع
                </button>
            </div>
        </section>

        <!-- لوحة تحكم الصيدلية -->
        <section class="container hidden" id="pharmacy-panel">
            <div class="panel-header">
                <h2><i class="fas fa-clinic-medical"></i> لوحة تحكم الصيدلية</h2>
                <div id="pharmacy-status" class="status-badge">
                    <i class="fas fa-store"></i> <span id="status-text">جاري التحميل...</span>
                </div>
            </div>
            <div class="panel-actions">
                <button class="btn btn-status" onclick="toggleOpen()" id="toggle-status-btn">
                    <i class="fas fa-power-off"></i> تبديل الحالة
                </button>
                <button class="btn btn-primary" onclick="showSection('change-password')">
                    <i class="fas fa-key"></i> تغيير كلمة المرور
                </button>
                <button class="btn btn-secondary" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> تسجيل خروج
                </button>
            </div>
            <div class="requests-container">
                <h3><i class="fas fa-bell"></i> طلبات الأدوية الجديدة</h3>
                <div id="requests" class="requests-list"></div>
            </div>
        </section>

        <!-- شاشة تغيير كلمة المرور -->
        <section class="container hidden" id="change-password">
            <div class="form-container">
                <div class="form-header">
                    <i class="fas fa-key"></i>
                    <h2>تغيير كلمة المرور</h2>
                </div>
                <div class="form-group">
                    <label for="old-password"><i class="fas fa-lock"></i> كلمة المرور الحالية</label>
                    <input type="password" id="old-password" placeholder="أدخل كلمة المرور الحالية">
                </div>
                <div class="form-group">
                    <label for="new-password"><i class="fas fa-lock-open"></i> كلمة المرور الجديدة</label>
                    <input type="password" id="new-password" placeholder="أدخل كلمة المرور الجديدة">
                </div>
                <button class="btn btn-primary" onclick="changePassword()">
                    <i class="fas fa-save"></i> حفظ التغييرات
                </button>
                <button class="btn btn-secondary" onclick="showSection('pharmacy-panel')">
                    <i class="fas fa-arrow-right"></i> رجوع
                </button>
            </div>
        </section>

        <!-- لوحة تحكم العميل -->
        <section class="container hidden" id="client-panel">
            <div class="panel-header">
                <h2><i class="fas fa-user-md"></i> مرحباً بك!</h2>
                <p id="client-info"></p>
            </div>
            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="search-medicine" placeholder="ابحث عن دواء...">
                    <button class="btn btn-primary" onclick="searchMedicine()">
                        <i class="fas fa-search"></i> بحث
                    </button>
                </div>
            </div>
            <div id="client-results" class="medicine-results"></div>
            <button class="btn btn-secondary btn-logout" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> تسجيل خروج
            </button>
        </section>

        <!-- قائمة الصيدليات -->
        <section class="container hidden" id="pharmacies-list">
            <div class="panel-header">
                <h2><i class="fas fa-clinic-medical"></i> الصيدليات في مدينة <span id="current-city"></span></h2>
                <button class="btn btn-secondary" onclick="showSection('client-panel')">
                    <i class="fas fa-arrow-right"></i> رجوع
                </button>
            </div>
            <div class="search-box" style="margin-bottom: 20px;">
                <input type="text" id="search-pharmacy" placeholder="ابحث عن صيدلية...">
                <button class="btn btn-primary" onclick="searchPharmacies()">
                    <i class="fas fa-search"></i> بحث
                </button>
            </div>
            <div id="pharmacies-list-container" class="medicine-results"></div>
        </section>

        <!-- إرسال طلب دواء -->
        <section class="container hidden" id="send-request">
            <div class="form-container">
                <div class="form-header">
                    <i class="fas fa-paper-plane"></i>
                    <h2>إرسال طلب دواء</h2>
                    <p>إلى: <span id="selected-pharmacy-name"></span></p>
                    <input type="hidden" id="selected-pharmacy-id">
                </div>
                <div class="form-group">
                    <label for="request-medicine"><i class="fas fa-pills"></i> اسم الدواء</label>
                    <input type="text" id="request-medicine" placeholder="أدخل اسم الدواء المطلوب">
                </div>
                <div class="form-group">
                    <label for="prescription-image"><i class="fas fa-file-image"></i> صورة الوصفة الطبية (اختياري)</label>
                    <input type="file" id="prescription-image" accept="image/*">
                </div>
                <button class="btn btn-primary" onclick="sendMedicineRequest()">
                    <i class="fas fa-paper-plane"></i> إرسال الطلب
                </button>
                <button class="btn btn-secondary" onclick="showSection('pharmacies-list')">
                    <i class="fas fa-arrow-right"></i> رجوع
                </button>
            </div>
        </section>
    </main>

    <!-- تذييل الصفحة -->
    <footer class="pharmacy-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <img src="https://cdn-icons-png.flaticon.com/512/3142/3142145.png" alt="صيدليتي">
                    <h3>صيدليتي أونلاين</h3>
                    <p>منصة رقمية متكاملة لربط العملاء بالصيدليات في جميع أنحاء مصر</p>
                </div>
                <div class="footer-links">
                    <h4>روابط سريعة</h4>
                    <a href="#" onclick="showSection('home-screen')"><i class="fas fa-home"></i> الصفحة الرئيسية</a>
                    <a href="#"><i class="fas fa-file-alt"></i> الشروط والأحكام</a>
                </div>
                <div class="footer-contact">
                    <h4>تواصل معنا</h4>
                    <p><i class="fas fa-phone-alt"></i> 015552732042</p>
                    <p><i class="fas fa-envelope"></i> ahmed01552732@gmail.com</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-x"></i></a>
                        <a href="=+20 15552732042"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; احمد جمال</p>
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        // تهيئة تأثيرات الحركة
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });

        // متغيرات التطبيق
        let clientData = {};
        let pharmacyId = null;
        let currentUserType = null;
        let pharmacies = [];
        let filteredPharmacies = [];

        // عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedData();
            checkDarkModePreference();
            updateDateTime();
            initAnimations();
        });

        // تحميل البيانات المحفوظة
        function loadSavedData() {
            // بيانات العميل
            const savedClientData = localStorage.getItem('clientData');
            if (savedClientData) {
                const data = JSON.parse(savedClientData);
                document.getElementById('client-name').value = data.name || '';
                document.getElementById('client-phone').value = data.phone || '';
                document.getElementById('client-city').value = data.city || '';
                document.getElementById('save-client-data').checked = true;
            }

            // بيانات الصيدلية
            const savedPharmacyData = localStorage.getItem('pharmacyData');
            if (savedPharmacyData) {
                const data = JSON.parse(savedPharmacyData);
                document.getElementById('pharmacy-name').value = data.name || '';
                document.getElementById('pharmacy-password').value = data.password || '';
                document.getElementById('save-pharmacy-data').checked = true;
            }
        }

        // عرض القسم المطلوب مع تأثيرات
        function showSection(id) {
            // إخفاء جميع الأقسام
            document.querySelectorAll('.container').forEach(el => {
                if (!el.classList.contains('hidden')) {
                    el.classList.add('fade-out');
                    setTimeout(() => {
                        el.classList.add('hidden');
                        el.classList.remove('fade-out');
                    }, 300);
                }
            });
            
            // عرض القسم المحدد
            const section = document.getElementById(id);
            section.classList.remove('hidden');
            setTimeout(() => {
                section.classList.add('fade-in');
            }, 50);
            
            // إدارة الحالة
            if (id === 'pharmacy-panel') {
                listenToRequests();
                updatePharmacyStatus();
            }
            
            if (id === 'client-panel') {
                updateClientInfo();
            }
            
            if (id === 'pharmacies-list') {
                document.getElementById('current-city').textContent = clientData.city;
                showPharmaciesList();
            }
            
            // التمرير لأعلى الصفحة
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // عرض نموذج تسجيل الصيدلية
        function showRegisterForm() {
            const name = document.getElementById("pharmacy-name").value;
            const pass = document.getElementById("pharmacy-password").value;
            const saveData = document.getElementById("save-pharmacy-data").checked;
            
            document.getElementById("register-name").value = name || '';
            document.getElementById("register-password").value = pass || '';
            document.getElementById("save-register-data").checked = saveData;
            
            showSection("pharmacy-register");
        }

        // تسجيل دخول العميل
        function loginClient() {
            const name = document.getElementById("client-name").value.trim();
            const phone = document.getElementById("client-phone").value.trim();
            const city = document.getElementById("client-city").value.trim();
            const saveData = document.getElementById("save-client-data").checked;

            if (!name || !phone || !city) {
                showError("الرجاء ملء جميع الحقول المطلوبة");
                return;
            }

            if (phone.length !== 11 || isNaN(phone)) {
                showError("رقم الهاتف يجب أن يكون 11 رقماً");
                return;
            }

            clientData = { name, phone, city };
            currentUserType = 'client';
            
            if (saveData) {
                localStorage.setItem('clientData', JSON.stringify(clientData));
            } else {
                localStorage.removeItem('clientData');
            }
            
            showSection("client-panel");
            showSuccess(`مرحباً ${name}! يمكنك الآن البحث عن الأدوية في صيدليات مدينة ${city}`);
        }

        // تسجيل دخول الصيدلية
        function loginPharmacy() {
            const name = document.getElementById("pharmacy-name").value.trim();
            const pass = document.getElementById("pharmacy-password").value.trim();
            const saveData = document.getElementById("save-pharmacy-data").checked;

            if (!name || !pass) {
                showError("الرجاء إدخال جميع البيانات");
                return;
            }

            showLoading("جاري التحقق من بيانات الدخول...");

            // محاكاة الدخول للصيدلية
            setTimeout(() => {
                pharmacyId = "ph123";
                currentUserType = 'pharmacy';
                
                if (saveData) {
                    localStorage.setItem('pharmacyData', JSON.stringify({ name, password: pass }));
                } else {
                    localStorage.removeItem('pharmacyData');
                }
                
                showSection("pharmacy-panel");
                showSuccess(`مرحباً بك ${name}!`);
            }, 1500);
        }

        // تسجيل صيدلية جديدة
        function registerPharmacy() {
            const name = document.getElementById("register-name").value.trim();
            const pass = document.getElementById("register-password").value.trim();
            const city = document.getElementById("register-city").value.trim();
            const location = document.getElementById("register-location").value.trim();
            const phone = document.getElementById("register-phone").value.trim();
            const saveData = document.getElementById("save-register-data").checked;

            if (!name || !pass || !city || !location) {
                showError("الرجاء ملء جميع الحقول المطلوبة");
                return;
            }

            showLoading("جاري إنشاء الحساب...");

            // محاكاة إنشاء حساب جديد
            setTimeout(() => {
                pharmacyId = "ph" + Date.now();
                currentUserType = 'pharmacy';

                if (saveData) {
                    localStorage.setItem('pharmacyData', JSON.stringify({ name, password: pass }));
                }
                
                showSection("pharmacy-panel");
                showSuccess(`تم إنشاء حساب جديد للصيدلية ${name}`);
            }, 1500);
        }

        // تبديل حالة الصيدلية
        function toggleOpen() {
            // محاكاة تغيير حالة الصيدلية
            const statusBadge = document.getElementById("pharmacy-status");
            const toggleBtn = document.getElementById("toggle-status-btn");
            
            if (statusBadge.classList.contains("status-open")) {
                statusBadge.className = "status-badge status-closed";
                document.getElementById("status-text").textContent = "مغلقة الآن";
                toggleBtn.innerHTML = '<i class="fas fa-door-closed"></i> تغيير للفتح';
                toggleBtn.classList.remove('btn-open');
                toggleBtn.classList.add('btn-closed');
            } else {
                statusBadge.className = "status-badge status-open";
                document.getElementById("status-text").textContent = "مفتوحة الآن";
                toggleBtn.innerHTML = '<i class="fas fa-door-open"></i> تغيير للإغلاق';
                toggleBtn.classList.remove('btn-closed');
                toggleBtn.classList.add('btn-open');
            }
        }

        // تحديث حالة الصيدلية
        function updatePharmacyStatus() {
            // محاكاة حالة الصيدلية
            setTimeout(() => {
                const statusBadge = document.getElementById("pharmacy-status");
                const toggleBtn = document.getElementById("toggle-status-btn");
                
                statusBadge.className = "status-badge status-open";
                document.getElementById("status-text").textContent = "مفتوحة الآن";
                toggleBtn.innerHTML = '<i class="fas fa-door-open"></i> تغيير للإغلاق';
                toggleBtn.classList.remove('btn-closed');
                toggleBtn.classList.add('btn-open');
            }, 500);
        }

        // البحث عن دواء
        function searchMedicine() {
            const name = document.getElementById("search-medicine").value.trim();
            if (!name) {
                showError("الرجاء إدخال اسم الدواء");
                return;
            }

            if (!clientData.city) {
                showError("الرجاء تحديد المدينة أولاً");
                return;
            }

            showLoading("جاري البحث عن الدواء في صيدليات مدينتك...");
            
            // محاكاة نتائج البحث
            setTimeout(() => {
                displayMedicineResults(name);
            }, 1500);
        }

        // عرض نتائج البحث
        function displayMedicineResults(medicineName) {
            const resultsContainer = document.getElementById("client-results");
            
            // بيانات محاكاة
            const output = `
            <div class="medicine-card" data-aos="fade-up">
                <div class="medicine-image">
                    <i class="fas fa-pills"></i>
                </div>
                <div class="medicine-details">
                    <h3>${medicineName}</h3>
                    <div class="medicine-info">
                        <i class="fas fa-clinic-medical"></i>
                        <span>صيدلية النور</span>
                    </div>
                    <div class="medicine-info">
                        <i class="fas fa-tag"></i>
                        <span>45 جنيه</span>
                    </div>
                    <div class="medicine-info">
                        <i class="fas fa-phone"></i>
                        <span>01234567890</span>
                    </div>
                    <div class="medicine-info">
                        <i class="fas fa-map-marker-alt"></i>
                        <span><a href="#" target="_blank">عرض الموقع</a></span>
                    </div>
                    <span class="availability-tag available">
                        <i class="fas fa-check-circle"></i> متوفر
                    </span>
                    <button class="btn btn-call" onclick="makeCall('01234567890')">
                        <i class="fas fa-phone"></i> اتصل بالصيدلية
                    </button>
                </div>
            </div>
            <div class="medicine-card" data-aos="fade-up">
                <div class="medicine-image">
                    <i class="fas fa-pills"></i>
                </div>
                <div class="medicine-details">
                    <h3>${medicineName}</h3>
                    <div class="medicine-info">
                        <i class="fas fa-clinic-medical"></i>
                        <span>صيدلية الرحمة</span>
                    </div>
                    <div class="medicine-info">
                        <i class="fas fa-tag"></i>
                        <span>42 جنيه</span>
                    </div>
                    <div class="medicine-info">
                        <i class="fas fa-phone"></i>
                        <span>01098765432</span>
                    </div>
                    <div class="medicine-info">
                        <i class="fas fa-map-marker-alt"></i>
                        <span><a href="#" target="_blank">عرض الموقع</a></span>
                    </div>
                    <span class="availability-tag available">
                        <i class="fas fa-check-circle"></i> متوفر
                    </span>
                    <button class="btn btn-call" onclick="makeCall('01098765432')">
                        <i class="fas fa-phone"></i> اتصل بالصيدلية
                    </button>
                </div>
            </div>`;

            resultsContainer.innerHTML = output;
        }

        // إجراء مكالمة هاتفية
        function makeCall(phoneNumber) {
            if (confirm(`هل تريد الاتصال بالصيدلية على الرقم ${phoneNumber}؟`)) {
                showSuccess(`جاري الاتصال بالصيدلية على الرقم ${phoneNumber}`);
            }
        }

        // تحديث معلومات العميل
        function updateClientInfo() {
            const clientInfo = document.getElementById("client-info");
            if (clientData.name && clientData.city) {
                clientInfo.innerHTML = `
                    <div class="client-info-item">
                        <i class="fas fa-user"></i> ${clientData.name}
                    </div>
                    <div class="client-info-item">
                        <i class="fas fa-city"></i> ${clientData.city}
                    </div>
                    <div class="client-info-item">
                        <i class="fas fa-phone"></i> ${clientData.phone}
                    </div>
                    <button class="btn btn-accent" onclick="showPharmaciesList()" style="margin-top: 15px;">
                        <i class="fas fa-clinic-medical"></i> عرض الصيدليات في مدينتي
                    </button>`;
            }
        }

        // تغيير كلمة المرور
        function changePassword() {
            const oldPass = document.getElementById("old-password").value;
            const newPass = document.getElementById("new-password").value;

            if (!oldPass || !newPass) {
                showError("الرجاء إدخال جميع الحقول");
                return;
            }

            if (newPass.length < 6) {
                showError("كلمة المرور يجب أن تكون 6 أحرف على الأقل");
                return;
            }

            showSuccess("تم تغيير كلمة المرور بنجاح");
            document.getElementById("old-password").value = '';
            document.getElementById("new-password").value = '';
            showSection("pharmacy-panel");
        }

        // إدارة طلبات الأدوية للصيدلية
        function listenToRequests() {
            // محاكاة طلبات الأدوية
            const container = document.getElementById("requests");
            
            const output = `
            <div class="medicine-card">
                <div class="medicine-image" style="background: #f0f7fd;">
                    <i class="fas fa-search"></i>
                </div>
                <div class="medicine-details">
                    <h3>باراسيتامول</h3>
                    <div class="medicine-info">
                        <i class="fas fa-user"></i>
                        <span>أحمد محمد</span>
                    </div>
                    <div class="medicine-info">
                        <i class="fas fa-phone"></i>
                        <span>01234567890</span>
                    </div>
                    <div class="medicine-info">
                        <i class="fas fa-clock"></i>
                        <span>منذ 15 دقيقة</span>
                    </div>
                    <div class="medicine-actions">
                        <button class="btn btn-primary" onclick="setAvailability('باراسيتامول', 'available', 'req1')">
                            <i class="fas fa-check"></i> متوفر
                        </button>
                        <button class="btn btn-secondary" onclick="setAvailability('باراسيتامول', 'not_available', 'req1')">
                            <i class="fas fa-times"></i> غير متوفر
                        </button>
                        <button class="btn btn-call" onclick="makeCall('01234567890')">
                            <i class="fas fa-phone"></i> اتصل بالعميل
                        </button>
                    </div>
                </div>
            </div>
            <div class="medicine-card">
                <div class="medicine-image" style="background: #f0f7fd;">
                    <i class="fas fa-search"></i>
                </div>
                <div class="medicine-details">
                    <h3>أموكسيسيلين</h3>
                    <div class="medicine-info">
                        <i class="fas fa-user"></i>
                        <span>سارة محمود</span>
                    </div>
                    <div class="medicine-info">
                        <i class="fas fa-phone"></i>
                        <span>01098765432</span>
                    </div>
                    <div class="medicine-info">
                        <i class="fas fa-clock"></i>
                        <span>منذ 30 دقيقة</span>
                    </div>
                    <div class="medicine-actions">
                        <button class="btn btn-primary" onclick="setAvailability('أموكسيسيلين', 'available', 'req2')">
                            <i class="fas fa-check"></i> متوفر
                        </button>
                        <button class="btn btn-secondary" onclick="setAvailability('أموكسيسيلين', 'not_available', 'req2')">
                            <i class="fas fa-times"></i> غير متوفر
                        </button>
                        <button class="btn btn-call" onclick="makeCall('01098765432')">
                            <i class="fas fa-phone"></i> اتصل بالعميل
                        </button>
                    </div>
                </div>
            </div>`;

            container.innerHTML = output;
        }

        // عرض قائمة الصيدليات في المدينة
        function showPharmaciesList() {
            const city = clientData.city;
            if (!city) {
                showError("الرجاء تحديد المدينة أولاً");
                return;
            }

            showLoading("جاري تحميل قائمة الصيدليات...");
            const resultsContainer = document.getElementById("pharmacies-list-container");
            
            // محاكاة بيانات الصيدليات
            pharmacies = [
                {
                    id: "ph1",
                    name: "صيدلية النور",
                    phone: "01234567890",
                    location: "#",
                    isOpen: true
                },
                {
                    id: "ph2",
                    name: "صيدلية الرحمة",
                    phone: "01098765432",
                    location: "#",
                    isOpen: true
                },
                {
                    id: "ph3",
                    name: "صيدلية الشفاء",
                    phone: "01122334455",
                    location: "#",
                    isOpen: true
                },
                {
                    id: "ph4",
                    name: "صيدلية الأمل",
                    phone: "01555667788",
                    location: "#",
                    isOpen: true
                }
            ];
            
            filteredPharmacies = [...pharmacies];
            renderPharmaciesList();
        }

        // عرض قائمة الصيدليات
        function renderPharmaciesList() {
            const resultsContainer = document.getElementById("pharmacies-list-container");
            let output = '';
            
            filteredPharmacies.forEach(pharmacy => {
                output += `
                <div class="pharmacy-card" data-aos="fade-up" onclick="selectPharmacy('${pharmacy.id}', '${pharmacy.name}')">
                    <div class="pharmacy-image">
                        <i class="fas fa-clinic-medical"></i>
                    </div>
                    <div class="pharmacy-details">
                        <h3>${pharmacy.name}</h3>
                        <div class="pharmacy-info">
                            <i class="fas fa-map-marker-alt"></i>
                            <span><a href="${pharmacy.location}" target="_blank">عرض الموقع</a></span>
                        </div>
                        <div class="pharmacy-info">
                            <i class="fas fa-phone"></i>
                            <span>${pharmacy.phone}</span>
                        </div>
                        <span class="status-badge ${pharmacy.isOpen ? 'status-open' : 'status-closed'}">
                            ${pharmacy.isOpen ? 'مفتوحة الآن' : 'مغلقة'}
                        </span>
                    </div>
                </div>`;
            });

            resultsContainer.innerHTML = output;
        }

        // البحث عن صيدليات
        function searchPharmacies() {
            const searchTerm = document.getElementById("search-pharmacy").value.trim().toLowerCase();
            
            if (!searchTerm) {
                filteredPharmacies = [...pharmacies];
            } else {
                filteredPharmacies = pharmacies.filter(pharmacy => 
                    pharmacy.name.toLowerCase().includes(searchTerm)
                );
            }
            
            renderPharmaciesList();
        }

        // اختيار صيدلية معينة
        function selectPharmacy(id, name) {
            document.getElementById("selected-pharmacy-name").textContent = name;
            document.getElementById("selected-pharmacy-id").value = id;
            showSection("send-request");
        }

        // إرسال طلب دواء إلى صيدلية محددة
        function sendMedicineRequest() {
            const medicineName = document.getElementById("request-medicine").value.trim();
            const pharmacyId = document.getElementById("selected-pharmacy-id").value;
            const fileInput = document.getElementById("prescription-image");
            const file = fileInput.files[0];

            if (!medicineName) {
                showError("الرجاء إدخال اسم الدواء");
                return;
            }

            if (!pharmacyId) {
                showError("الرجاء اختيار صيدلية أولاً");
                return;
            }

            showLoading("جاري إرسال الطلب...");

            // محاكاة إرسال الطلب
            setTimeout(() => {
                if (file) {
                    showSuccess("تم إرسال الطلب بنجاح مع صورة الوصفة");
                } else {
                    showSuccess("تم إرسال الطلب بنجاح");
                }
                showSection("client-panel");
            }, 1500);
        }

        // تحديث حالة توفر الدواء
        function setAvailability(medicineName, status, requestId) {
            Swal.fire({
                title: 'تحديث حالة الدواء',
                html: `
                    <div style="text-align: right;">
                        <p>${medicineName}</p>
                        <input id="swal-price" class="swal2-input" placeholder="السعر (اختياري)" type="number">
                        <select id="swal-currency" class="swal2-input">
                            <option value="EGP">جنيه مصري</option>
                            <option value="USD">دولار أمريكي</option>
                            <option value="SAR">ريال سعودي</option>
                        </select>
                    </div>
                `,
                focusConfirm: false,
                showCancelButton: true,
                confirmButtonText: 'تأكيد',
                cancelButtonText: 'إلغاء'
            }).then((result) => {
                if (result.isConfirmed) {
                    const price = document.getElementById('swal-price').value;
                    const currency = document.getElementById('swal-currency').value;
                    
                    showSuccess(`تم تحديث حالة "${medicineName}" إلى ${status === 'available' ? 'متوفر' : 'غير متوفر'}`);
                    
                    // إزالة الطلب من القائمة
                    if (requestId) {
                        document.querySelector(`#requests .medicine-card:nth-child(${requestId === 'req1' ? 1 : 2})`).remove();
                    }
                }
            });
        }

        // تسجيل الخروج
        function logout() {
            pharmacyId = null;
            clientData = {};
            currentUserType = null;
            showSection('home-screen');
            showSuccess("تم تسجيل الخروج بنجاح");
        }

        // عرض رسالة نجاح
        function showSuccess(message) {
            const toast = document.createElement('div');
            toast.className = 'toast toast-success';
            toast.innerHTML = `
                <div class="toast-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="toast-message">${message}</div>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('fade-out');
                setTimeout(() => toast.remove(), 500);
            }, 3000);
        }

        // عرض رسالة خطأ
        function showError(message) {
            const toast = document.createElement('div');
            toast.className = 'toast toast-error';
            toast.innerHTML = `
                <div class="toast-icon">
                    <i class="fas fa-exclamation-circle"></i>
                </div>
                <div class="toast-message">${message}</div>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('fade-out');
                setTimeout(() => toast.remove(), 500);
            }, 3000);
        }

        // عرض تحميل
        function showLoading(message) {
            const toast = document.createElement('div');
            toast.className = 'toast toast-loading';
            toast.innerHTML = `
                <div class="toast-icon">
                    <div class="spinner"></div>
                </div>
                <div class="toast-message">${message}</div>
            `;
            document.body.appendChild(toout);
            
            return toast;
        }

        // التحقق من تفضيل الوضع المظلم
        function checkDarkModePreference() {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark-mode');
            }
        }

        // تحديث التاريخ والوقت
        function updateDateTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateString = now.toLocaleDateString('ar-EG', options);
            
            const dateElements = document.querySelectorAll('.current-date');
            dateElements.forEach(el => {
                el.textContent = dateString;
            });
        }

        // تهيئة تأثيرات الحركة
        function initAnimations() {
            const animateOnScroll = () => {
                const elements = document.querySelectorAll('[data-aos]');
                elements.forEach(el => {
                    const position = el.getBoundingClientRect();
                    if (position.top < window.innerHeight * 0.75) {
                        el.classList.add('aos-animate');
                    }
                });
            };
            
            window.addEventListener('scroll', animateOnScroll);
            animateOnScroll();
        }
    </script>
</body>
</html>
